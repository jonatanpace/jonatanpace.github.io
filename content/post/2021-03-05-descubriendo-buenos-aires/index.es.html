---
title: Cada Casa es un Mundo
subtitle: 'Modelos de regresión lineal para predecir el precio de propiedades.'
author: ~
date: '2020-11-14'
slug: Cada-Casa-es-un-Mundo
categories: []
tags: ['Python', 'Machine Learning', 'Regresión Lineal']
type: ''
image: 'img/portada_bsas.jpg'
Description: 'Sin las calles y atardeceres de Buenos Aires no puede escribirse un tango decía Jorge Luis Borges y es que la arquitectura porteña nació de una mezcla única de obras de diseñadores y paisajistas europeos que terminaron conformando una ciudad tan mutante como fascinante, como si las construcciones góticas, las casas de chapas y los modernos rascacielos que la decoran hubiesen llegado a un acuerdo para convivir en armonía. A pesar de que sobren los motivos para vivir en Buenos Aires resulta ser una de las ciudades con m2 más caro de latinoamérica, entremos en detalles para ver que esconde esta maravillosa ciudad.'
codefolding_nobutton: false
codefolding_show: 'show'
disable_codefolding: false
output: 
  blogdown::html_page:
    toc: true
    number_sections: true
    highlight: 'pygments'
---

<script src="{{< blogdown/postref >}}index.es_files/header-attrs/header-attrs.js"></script>
<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<div id="TOC">
<ul>
<li><a href="#presentación-del-problema"><span class="toc-section-number">1</span> Presentación del Problema</a></li>
<li><a href="#carga-de-librerías"><span class="toc-section-number">2</span> Carga de Librerías</a></li>
<li><a href="#descripción-del-dataset"><span class="toc-section-number">3</span> Descripción del Dataset</a>
<ul>
<li><a href="#carga-del-dataset"><span class="toc-section-number">3.1</span> Carga del Dataset</a></li>
<li><a href="#resumen-estadístico"><span class="toc-section-number">3.2</span> Resumen Estadístico</a></li>
<li><a href="#análisis-gráfico"><span class="toc-section-number">3.3</span> Análisis Gráfico</a>
<ul>
<li><a href="#variable-objetivo"><span class="toc-section-number">3.3.1</span> Variable Objetivo</a></li>
<li><a href="#variables-explicativas"><span class="toc-section-number">3.3.2</span> Variables Explicativas</a></li>
</ul></li>
<li><a href="#análisis-de-correlación"><span class="toc-section-number">3.4</span> Análisis de Correlación</a></li>
</ul></li>
<li><a href="#modelo-de-regresión-lineal-simple"><span class="toc-section-number">4</span> Modelo de Regresión Lineal Simple</a>
<ul>
<li><a href="#división-train-y-test"><span class="toc-section-number">4.1</span> División Train y Test</a></li>
<li><a href="#modelo-de-referencia"><span class="toc-section-number">4.2</span> Modelo de Referencia</a></li>
<li><a href="#mejoras-de-modelo"><span class="toc-section-number">4.3</span> Mejoras de Modelo</a>
<ul>
<li><a href="#modelo-solo-para-departamentos"><span class="toc-section-number">4.3.1</span> Modelo solo para Departamentos</a></li>
<li><a href="#resultados-gráficos"><span class="toc-section-number">4.3.2</span> Resultados Gráficos</a></li>
<li><a href="#interpretación"><span class="toc-section-number">4.3.3</span> Interpretación</a></li>
<li><a href="#modelo-para-departamentos-de-un-barrio-específico"><span class="toc-section-number">4.3.4</span> Modelo para Departamentos de un Barrio Específico</a></li>
<li><a href="#modelo-para-departamento-menor-a-100m2-de-un-barrio-específico"><span class="toc-section-number">4.3.5</span> Modelo para Departamento menor a 100m2 de un Barrio Específico</a></li>
</ul></li>
</ul></li>
<li><a href="#modelo-de-regresión-lineal-múltiple"><span class="toc-section-number">5</span> Modelo de Regresión Lineal Múltiple</a>
<ul>
<li><a href="#preprocesado"><span class="toc-section-number">5.1</span> Preprocesado</a></li>
<li><a href="#modelado"><span class="toc-section-number">5.2</span> Modelado</a></li>
<li><a href="#interpretación-1"><span class="toc-section-number">5.3</span> Interpretación</a></li>
</ul></li>
<li><a href="#conclusiones"><span class="toc-section-number">6</span> Conclusiones</a></li>
<li><a href="#bibliografía"><span class="toc-section-number">7</span> Bibliografía</a></li>
</ul>
</div>

<div style="text-align: justify">
<div id="presentación-del-problema" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Presentación del Problema</h1>
<p>Según los datos del Relevamiento Inmobiliario de América Latina (RIAL), elaborado por el Centro de Investigación en Finanzas de la Universidad Torcuato Di Tella y Navent, Buenos Aires se ubica como la segunda ciudad con m2 más caro de la región cotizando a U$D 3000. El estudio se actualiza anualmente y este último corresponde a Marzo del 2020. Pueden consultarse los detalles <a href="https://www.utdt.edu/ver_contenido.php?id_contenido=17165&amp;id_item_menu=24981">aquí</a>.</p>
<p><img src="/img/properati_files/precios_paises.png" /></p>
<p>El objetivo de nuestro estudio es analizar datos que provienen de una fuente diferente a la utilizada en el RIAL pero que tienen un orígen similar: anuncios en páginas web de propietarios que venden sus viviendas. Vamos a desarrollar un modelo de regresión lineal el cual nos permitirá realizar predicciones de los precios de las viviendas a partir de diferentes atributos de las mismas como así también obtener el precio del m2 a partir de los coeficientes del modelo.</p>
<p>Algunos de los interrogantes que nos proponemos responder son:</p>
<ul>
<li>¿Cuál es el precio de una propiedad dada una superficie?</li>
<li>¿Cuál es el error incurrido en este proceso?</li>
<li>¿Cuál es la variación de precios de las propiedades?</li>
<li>¿Cuáles son las barrios más caros y cuáles los más accesibles?</li>
<li>¿Cómo varía el precio respecto al tipo de propiedad?</li>
</ul>
<p>Comenzaremos realizando un análisis gráfico de los datos y luego entrenaremos varios modelos de regresión lineal, observaremos el error obtenido e iremos mejorando el modelo a fin de obtener mejores resultados.</p>
<p> </p>
</div>
<div id="carga-de-librerías" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Carga de Librerías</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Manipulación de Datos</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># =====================</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy  <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráficos</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># ========</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn           <span class="im">as</span> sns</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>plt.style.use(<span class="st">&#39;ggplot&#39;</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>plt.style.context(<span class="st">&#39;dark_background&#39;</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>sns.set_context(<span class="st">&#39;notebook&#39;</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Preprocesado y modelado</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># =======================</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats             <span class="im">import</span> pearsonr</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api       <span class="im">as</span> sm</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split </span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics         <span class="im">import</span> mean_squared_error </span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics         <span class="im">import</span> r2_score</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Configuración de warnings</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">&#39;ignore&#39;</span>)</span></code></pre></div>
<p> </p>
</div>
<div id="descripción-del-dataset" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Descripción del Dataset</h1>
<p>El dataset que utilizaremos puede descargarse de la página web en properati.com.ar/data. Aquí se puede encontrar el dataset completo, el cual contiene más registros y más atributos que el que utilizaremos en este análisis. Incluso hay información para otros países y regiones.</p>
<p>Cada fila del dataset corresponde al anuncio de venta de una propiedad y a partir de lo que decía este anuncio se pudieron obtener los siguientes atributos:</p>
<ul>
<li><code>tipo</code>: corresponde al tipo de vivienda. En nuestro caso hemos descargado los datos para los tipos <em>Departamento</em>, <em>Casa</em> y <em>PH</em>.</li>
<li><code>barrio</code>: nombre del barrio en el cual se encuentra la vivienda. En este caso tenemos barrios de la ciudad de Buenos Aires.</li>
<li><code>cant_hab</code>: número de habitaciones de la propiedad.</li>
<li><code>cant_bath</code>: cantidad de baños de la propiedad.</li>
<li><code>superficie</code>: superficie en metros cuadrados de la vivienda.</li>
<li><code>precio</code>: precio de la propiedad en USD.</li>
</ul>
<p> </p>
<div id="carga-del-dataset" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Carga del Dataset</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>prop <span class="op">=</span> pd.read_csv(<span class="st">&#39;propiedades.csv&#39;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>prop.head()</span></code></pre></div>
<div>
</style>
<div style="overflow-x:auto;">
<table border="1" class="dataframe">
<thead>
<tr style="text-align: left;">
<th>
</th>
<th>
tipo
</th>
<th>
Barrio
</th>
<th>
cant_hab
</th>
<th>
cant_bath
</th>
<th>
superficie
</th>
<th>
precio
</th>
</tr>
</thead>
<tbody>
<th>
0
</th>
<td>
Casa
</td>
<td>
Velez Sarsfield
</td>
<td>
3
</td>
<td>
2
</td>
<td>
95
</td>
<td>
199900
</td>
</tr>
<tr>
<th>
1
</th>
<td>
Departamento
</td>
<td>
Nuñez
</td>
<td>
1
</td>
<td>
1
</td>
<td>
44
</td>
<td>
147000
</td>
</tr>
<tr>
<th>
2
</th>
<td>
Departamento
</td>
<td>
Almagro
</td>
<td>
1
</td>
<td>
1
</td>
<td>
40
</td>
<td>
92294
</td>
</tr>
<tr>
<th>
3
</th>
<td>
Departamento
</td>
<td>
Almagro
</td>
<td>
1
</td>
<td>
1
</td>
<td>
49
</td>
<td>
115000
</td>
</tr>
<tr>
<th>
4
</th>
<td>
Departamento
</td>
<td>
Almagro
</td>
<td>
1
</td>
<td>
1
</td>
<td>
40
</td>
<td>
77000
</td>
</tr>
</tbody>
</table>
</div>
<p>Vamos a renombrar el atributo <code>Barrio</code> para que tenga el mismo formato que los demás.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Renombramos la columna barrio</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>prop.rename(columns <span class="op">=</span> {<span class="st">&#39;Barrio&#39;</span>:<span class="st">&#39;barrio&#39;</span>},</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>            inplace <span class="op">=</span> <span class="va">True</span>)</span></code></pre></div>
<p>Veamos las diferentes categorías que existen dentro de la variable <code>tipo</code>y <code>barrio</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Los tipos de propiedades son : </span><span class="sc">{}</span><span class="st">&#39;</span>.<span class="bu">format</span>(prop[<span class="st">&#39;tipo&#39;</span>].unique()))</span></code></pre></div>
<pre><code>Los tipos de propiedades son : [&#39;Casa&#39; &#39;Departamento&#39; &#39;PH&#39;]</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Nuestro dataset tiene </span><span class="sc">{}</span><span class="st"> barrios distintos, los cuales son los siguientes:&#39;</span>.<span class="bu">format</span>(prop[<span class="st">&#39;barrio&#39;</span>].nunique()))</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>()</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>((prop[<span class="st">&#39;barrio&#39;</span>].unique()))</span></code></pre></div>
<pre><code>Nuestro dataset tiene 57 barrios distintos, los cuales son los siguientes:

[&#39;Velez Sarsfield&#39; &#39;Nuñez&#39; &#39;Almagro&#39; &#39;Palermo&#39; &#39;Caballito&#39; &#39;Villa Crespo&#39;
 &#39;Villa Urquiza&#39; &#39;Parque Chacabuco&#39; &#39;Barracas&#39; &#39;Retiro&#39; &#39;Belgrano&#39;
 &#39;Floresta&#39; &#39;Recoleta&#39; &#39;Saavedra&#39; &#39;Balvanera&#39; &#39;Colegiales&#39; &#39;Parque Chas&#39;
 &#39;Barrio Norte&#39; &#39;Villa Devoto&#39; &#39;Puerto Madero&#39; &#39;Villa Ortuzar&#39;
 &#39;Villa Pueyrredón&#39; &#39;Villa Real&#39; &#39;Once&#39; &#39;Flores&#39; &#39;San Telmo&#39; &#39;Las Cañitas&#39;
 &#39;Villa Santa Rita&#39; &#39;Centro / Microcentro&#39; &#39;Villa del Parque&#39;
 &#39;Parque Centenario&#39; &#39;Chacarita&#39; &#39;Boedo&#39; &#39;Abasto&#39; &#39;San Cristobal&#39;
 &#39;Liniers&#39; &#39;Villa General Mitre&#39; &#39;Agronomía&#39; &#39;Parque Patricios&#39; &#39;Boca&#39;
 &#39;Coghlan&#39; &#39;Paternal&#39; &#39;Monserrat&#39; &#39;San Nicolás&#39; &#39;Villa Lugano&#39;
 &#39;Parque Avellaneda&#39; &#39;Congreso&#39; &#39;Mataderos&#39; &#39;Monte Castro&#39; &#39;Constitución&#39;
 &#39;Catalinas&#39; &#39;Versalles&#39; &#39;Villa Luro&#39; &#39;Pompeya&#39; &#39;Tribunales&#39;
 &#39;Villa Soldati&#39; &#39;Villa Riachuelo&#39;]</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>prop.info()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;pandas.core.frame.DataFrame&#39;</span><span class="op">&gt;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    RangeIndex: <span class="dv">45904</span> entries, <span class="dv">0</span> to <span class="dv">45903</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    Data columns (total <span class="dv">6</span> columns):</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>     <span class="co">#   Column      Non-Null Count  Dtype </span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">---</span>  <span class="op">------</span>      <span class="op">--------------</span>  <span class="op">-----</span> </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>     <span class="dv">0</span>   tipo        <span class="dv">45904</span> non<span class="op">-</span>null  <span class="bu">object</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>     <span class="dv">1</span>   barrio      <span class="dv">45904</span> non<span class="op">-</span>null  <span class="bu">object</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>     <span class="dv">2</span>   cant_hab    <span class="dv">45904</span> non<span class="op">-</span>null  int64 </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>     <span class="dv">3</span>   cant_bath   <span class="dv">45904</span> non<span class="op">-</span>null  int64 </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>     <span class="dv">4</span>   superficie  <span class="dv">45904</span> non<span class="op">-</span>null  int64 </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>     <span class="dv">5</span>   precio      <span class="dv">45904</span> non<span class="op">-</span>null  int64 </span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    dtypes: int64(<span class="dv">4</span>), <span class="bu">object</span>(<span class="dv">2</span>)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    memory usage: <span class="fl">2.1</span><span class="op">+</span> MB</span></code></pre></div>
<p>Vemos que no hay valores nulos en el dataset pero que el tipo de dato de las variables <code>tipo</code>, <code>barrio</code>, <code>cant_hab</code> y <code>cant_bath</code> no es el adecuado. Vamos a transformarlo al tipo <em>category</em>. Es decir queremos que sean variables categóricas.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>prop[<span class="st">&#39;tipo&#39;</span>] <span class="op">=</span> prop[<span class="st">&#39;tipo&#39;</span>].astype(<span class="st">&#39;category&#39;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>prop[<span class="st">&#39;barrio&#39;</span>] <span class="op">=</span> prop[<span class="st">&#39;barrio&#39;</span>].astype(<span class="st">&#39;category&#39;</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>prop[<span class="st">&#39;cant_hab&#39;</span>] <span class="op">=</span> prop[<span class="st">&#39;cant_hab&#39;</span>].astype(<span class="st">&#39;category&#39;</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>prop[<span class="st">&#39;cant_bath&#39;</span>] <span class="op">=</span> prop[<span class="st">&#39;cant_bath&#39;</span>].astype(<span class="st">&#39;category&#39;</span>)</span></code></pre></div>
<p> </p>
</div>
<div id="resumen-estadístico" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Resumen Estadístico</h2>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>prop.describe(include <span class="op">=</span> <span class="st">&#39;all&#39;</span>)</span></code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: center;
    }
</style>
<div style="overflow-x:auto;">
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th>
</th>
<th>
tipo
</th>
<th>
barrio
</th>
<th>
cant_hab
</th>
<th>
cant_bath
</th>
<th>
superficie
</th>
<th>
precio
</th>
</tr>
</thead>
<tbody>
<tr>
<th>
count
</th>
<td>
45904
</td>
<td>
45904
</td>
<td>
45904
</td>
<td>
45904
</td>
<td>
45904
</td>
<td>
45904
</td>
</tr>
<tr>
<th>
unique
</th>
<td>
3
</td>
<td>
57
</td>
<td>
8.0
</td>
<td>
5.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
top
</th>
<td>
Departamento
</td>
<td>
Palermo
</td>
<td>
3.0
</td>
<td>
1.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
freq
</th>
<td>
40355
</td>
<td>
7104
</td>
<td>
13941.0
</td>
<td>
30856.0
</td>
<td>
NaN
</td>
<td>
NaN
</td>
</tr>
<tr>
<th>
mean
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
79.78
</td>
<td>
214393.81
</td>
</tr>
<tr>
<th>
std
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
46.65
</td>
<td>
140713.24
</td>
</tr>
<tr>
<th>
min
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
28.00
</td>
<td>
69500.00
</td>
</tr>
<tr>
<th>
25%
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
46.00
</td>
<td>
120000.00
</td>
</tr>
<tr>
<th>
50%
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
65.00
</td>
<td>
169000.00
</td>
</tr>
<tr>
<th>
75%
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
99.00
</td>
<td>
259000.00
</td>
</tr>
<tr>
<th>
max
</th>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
NaN
</td>
<td>
320.00
</td>
<td>
950000.00
</td>
</tr>
</tbody>
</table>
</div>
<p>Nuestro dataset contiene 45904 registros. Las propiedades relevadas tienen entre 1 y 8 habitaciones, un máximo de 5 baños y una superficie que varía entre los 28 y 320 m2. Por otro lado, el precio de las mismas se encuentra entre 69500 y 950000 dolares.</p>
<p> </p>
</div>
<div id="análisis-gráfico" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Análisis Gráfico</h2>
<p>Vamos a comenzar a realizar diferentes tipos de gráficos de las variables que tenemos para entender mejor nuestro datos y generar ideas.</p>
<div id="variable-objetivo" class="section level3" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Variable Objetivo</h3>
<p>Nuestra variable objetivo es aquella que queremos predecir a través del modelo que desarrollemos. En este caso será el <code>precio</code> de las propiedades. Veamos como se distribuye esta variable.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribución del precio</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize <span class="op">=</span> (<span class="dv">10</span>, <span class="dv">5</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>sns.histplot(prop[<span class="st">&quot;precio&quot;</span>], bins <span class="op">=</span> <span class="dv">20</span> )</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Histograma de precios&#39;</span>)</span></code></pre></div>
<p><img src="/img/properati_files/output_25_1.png" /></p>
</div>
<div id="variables-explicativas" class="section level3" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Variables Explicativas</h3>
<p>Veamos también como se distribuyen las demás variables. Con estas intentaremos observar si existen relaciones con nuestra variable objetivo.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Distribución del tipo de propiedad</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>sns.countplot(<span class="st">&quot;tipo&quot;</span>, data <span class="op">=</span> prop)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Número de propiedades por tipo&#39;</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>prop[<span class="st">&#39;tipo&#39;</span>].value_counts(normalize <span class="op">=</span> <span class="va">True</span>).<span class="bu">round</span>(<span class="dv">3</span>)<span class="op">*</span><span class="dv">100</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    Departamento    <span class="fl">87.9</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    PH               <span class="fl">9.5</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    Casa             <span class="fl">2.6</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    Name: tipo, dtype: float64</span></code></pre></div>
<p><img src="/img/properati_files/output_28_1.png" /></p>
<p>El 88% de los registros de nuestro dataset corresponden a propiedades del tipo <em>Departamento</em>. Veamos si presentan diferentes distribuciones en cuanto a cantidad de habitaciones, baños y metros cuadrados y como se relacionan respecto al precio.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráficos de densidad para precio y superficie</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> kdeplot(feature): </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">5</span>))</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    plt.title(<span class="st">&quot;Gráfico de densidad para </span><span class="sc">{}</span><span class="st">&quot;</span>.<span class="bu">format</span>(feature))</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>    ax0 <span class="op">=</span> sns.kdeplot(prop[prop[<span class="st">&#39;tipo&#39;</span>] <span class="op">==</span> <span class="st">&#39;Casa&#39;</span>][feature],</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>                      label<span class="op">=</span> <span class="st">&#39;Casa&#39;</span>,</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>                      shade <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    ax1 <span class="op">=</span> sns.kdeplot(prop[prop[<span class="st">&#39;tipo&#39;</span>] <span class="op">==</span> <span class="st">&#39;Departamento&#39;</span>][feature],</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>                      label <span class="op">=</span> <span class="st">&#39;Departamento&#39;</span>,</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>                      shade <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    ax2 <span class="op">=</span> sns.kdeplot(prop[prop[<span class="st">&#39;tipo&#39;</span>] <span class="op">==</span> <span class="st">&#39;PH&#39;</span>][feature],</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>                      label <span class="op">=</span> <span class="st">&#39;PH&#39;</span>,</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>                      shade <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    plt.xlabel(feature)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    plt.legend()</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>kdeplot(<span class="st">&#39;superficie&#39;</span>)</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>kdeplot(<span class="st">&#39;precio&#39;</span>)</span></code></pre></div>
<p><img src="/img/properati_files/output_30_0.png" /></p>
<p><img src="/img/properati_files/output_30_1.png" /></p>
<p>Podemos ver a partir de los gráficos que la variable <code>superficie</code> se distribuye de diferentes maneras según el tipo de propiedad. Era de esperar algo así ya que en general las casas son más grandes que la mayoría de los departamentos. Pero si bien la superficie media de las casas es mayor, la distribución de los precios busca pegarse una con otras. Es decir, a la hora de hablar de precios se manejan valores similares independientemente del tipo de propiedad.</p>
<p>Podemos comenzar a ver como la superficie resulta ser buena variable predictora para el caso de departamentos pero no así para los otros dos tipos. Esto nos lleva a pensar que lo mejor será hacer un modelo para cada tipo de propiedad o al menos dos modelos, ya que las distribuciones de precios de departamentos y Phs tienen un comportamiento similar.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot para precio y superficie</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ================================</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>,<span class="dv">2</span>,figsize <span class="op">=</span> (<span class="dv">12</span>,<span class="dv">5</span>))</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y    <span class="op">=</span> <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>            x    <span class="op">=</span> <span class="st">&#39;tipo&#39;</span>,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>            data <span class="op">=</span> prop,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>            ax   <span class="op">=</span> ax[<span class="dv">0</span>]).set_title(<span class="st">&quot;Distribución del precio por tipo de vivienda&quot;</span>)</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y    <span class="op">=</span> <span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>            x    <span class="op">=</span> <span class="st">&#39;tipo&#39;</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>            data <span class="op">=</span> prop,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>            ax   <span class="op">=</span> ax[<span class="dv">1</span>]).set_title(<span class="st">&quot;Distribución de la superficie por tipo de vivienda&quot;</span>)</span></code></pre></div>
<p><img src="/img/properati_files/output_32_1.png" /></p>
<p>Efectivamente, la medianas de los precios para departamentos y Phs son prácticamente iguales no así las medianas de las superficies. Esto se podría comprobar realizando un test de hipótesis que para el objetivo de este estudio no es necesario.</p>
<p>Otro aspecto importante es la presencia de valores atípicos. Tengamos en cuenta que hay más variables que condicionan el precio de una vivienda y que no las consideramos porque las desconocemos. El estado de la propiedad, la cercanía a diferentes servicios, la zona en particular en la que se encuentra, si la vivienda está o no amueblada, el año de la construcción o la locura del dueño entre otras variables afectan directamente al precio. Esto hace que sea difícil poder detectar verdaderos outliers por lo que vamos a proceder con nuestro análisis asumiendo que el precio que tienen es correcto.</p>
<p>Algo que sí podemos observar es como varía el precio según el barrio. Hay presupuestos para todos los bolsillos.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize <span class="op">=</span> (<span class="dv">10</span>,<span class="dv">25</span>))</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>order_barrio <span class="op">=</span> prop.groupby(by <span class="op">=</span> [<span class="st">&#39;barrio&#39;</span>])[<span class="st">&#39;precio&#39;</span>].median().sort_values(ascending <span class="op">=</span> <span class="va">False</span>).index</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y     <span class="op">=</span> <span class="st">&#39;barrio&#39;</span>,</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>            x     <span class="op">=</span> <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>            data  <span class="op">=</span> prop,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>            ax    <span class="op">=</span> ax,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>            order <span class="op">=</span> order_barrio)</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Distribución del precio por barrio&quot;</span>)</span></code></pre></div>
<p><img src="/img/properati_files/output_35_1.png" /></p>
<p>Otro aspecto que determina el precio de las propiedades son la cantidad de baños y la de habitaciones.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Boxplot para habitaciones y baños</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="co"># =================================</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">2</span>,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                       <span class="dv">1</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                       figsize <span class="op">=</span> (<span class="dv">15</span>,<span class="dv">15</span>))</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>fig.tight_layout(pad <span class="op">=</span> <span class="dv">4</span>)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y    <span class="op">=</span> <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>            x    <span class="op">=</span> <span class="st">&#39;cant_hab&#39;</span>,</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>            data <span class="op">=</span> prop,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>            ax   <span class="op">=</span> ax[<span class="dv">0</span>]).set_title(<span class="st">&quot;Distribución del precio por cantidad de habitaciones&quot;</span>)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>sns.boxplot(y    <span class="op">=</span> <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>            x    <span class="op">=</span> <span class="st">&#39;cant_bath&#39;</span>,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>            data <span class="op">=</span> prop,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>            ax   <span class="op">=</span> ax[<span class="dv">1</span>]).set_title(<span class="st">&quot;Distribución del precio por cantidad de baños&quot;</span>)</span></code></pre></div>
<p><img src="/img/properati_files/output_37_1.png" /></p>
<p>En cuanto al número de habitaciones, hay un aumento del precio cuando pasamos de 1 a 4, esto era lógico de esperar. Lo que si es interesante observar es que este aumento progresivo no se observa en viviendas que tienen entre 5 y 8 habitaciones, es decir tienen precios similares.
La tendencia en el aumento de la mediana del precio es creciente para el número de baños, no sucede lo que observamos en el gráfico anterior.
Algo no menor es que tenemos departamentos de 1 y 2 habitaciones a precios desorbitados, no me imagino un departamento de una habitación de U$D 800000. Cruzar la superficie de las viviendas con el precio de las mismas nos ayudará a observar inconsistencia en nuestros datos.</p>
<p> </p>
</div>
</div>
<div id="análisis-de-correlación" class="section level2" number="3.4">
<h2><span class="header-section-number">3.4</span> Análisis de Correlación</h2>
<p>Vamos a medir la correlación de Pearson entre las variables <code>precio</code> y <code>superficie</code> para ver si tiene sentido armar un modelo de regresión lineal entre estas variables.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Correlación lineal entre el precio y la superficie</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ==================================================</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>corr_test <span class="op">=</span> pearsonr(x <span class="op">=</span> prop[<span class="st">&#39;superficie&#39;</span>],</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>                     y <span class="op">=</span>  prop[<span class="st">&#39;precio&#39;</span>])</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;Coeficiente de correlación de Pearson: &quot;</span>,</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>      corr_test[<span class="dv">0</span>])</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;P-value: &quot;</span>, corr_test[<span class="dv">1</span>])</span></code></pre></div>
<pre><code>Coeficiente de correlación de Pearson:  0.758.
P-value:  0.0</code></pre>
<p>La correlación existente es considerable y a la vez significativa. Tiene sentido modelar el precio a través de un modelo de regresión lineal. Esta relación puede observarse gráficamente con un scatterplot.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize <span class="op">=</span> (<span class="dv">20</span>,<span class="dv">10</span>))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x       <span class="op">=</span> <span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>                y       <span class="op">=</span> <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>                data    <span class="op">=</span> prop,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>                hue     <span class="op">=</span> <span class="st">&#39;tipo&#39;</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>                ax      <span class="op">=</span> ax,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>                palette <span class="op">=</span> <span class="st">&quot;muted&quot;</span>,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>                alpha   <span class="op">=</span> <span class="fl">0.7</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>                )</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Correlación entre precio y superficie&quot;</span>)</span></code></pre></div>
<p><img src="/img/properati_files/output_43_1.png" /></p>
<p> </p>
</div>
</div>
<div id="modelo-de-regresión-lineal-simple" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Modelo de Regresión Lineal Simple</h1>
<p>Comenzaremos proponiendo un modelo de regresión lineal simple. Un mismo modelo para todas las viviendas independientemente de la ubicación. Luego intentaremos mejorarlo teniendo en cuenta estas otras variables. Buscaremos predecir la variable <code>precio</code> utilizando el atributo <code>superficie</code>. La fórmula resultante será la siguiente:</p>
<p><span class="math display">\[precio = \beta_{superficie} * m2 + \beta_{0}\]</span>
El Error Cuadrático Medio (MSE) es el criterio de evaluación más usado para problemas de regresión pero para este problema no resulta intuitivo por lo que vamos a usar el RMSE que es la Raíz Cuadrada del Error Cuadrático Medio. Así que si nuestro RMSE resulta ser 20000 para un modelo, esto indica que en promedio los valores tienen una desviación de más/menos 20000 unidades monetarias respecto al valor real.</p>
<p> </p>
<div id="división-train-y-test" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> División Train y Test</h2>
<p>Como en todo estudio predictivo, no solo es importante ajustar el modelo, sino también cuantificar su capacidad para predecir nuevas observaciones. Para poder hacer esta evaluación, se dividen los datos en dos grupos, uno de entrenamiento y otro de test.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># División de los datos en train y test</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ======================================</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> prop[<span class="st">&#39;superficie&#39;</span>]</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> prop[<span class="st">&#39;precio&#39;</span>]</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>                                        X.values.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                                        y.values.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>                                        train_size   <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>                                        random_state <span class="op">=</span> <span class="dv">1234</span>,</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>                                        shuffle      <span class="op">=</span> <span class="va">True</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>                                    )</span></code></pre></div>
<p> </p>
</div>
<div id="modelo-de-referencia" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Modelo de Referencia</h2>
<p>Antes de construir el modelo predictivo vamos a definir un modelo de referencia, es decir, el modelo más simple que podamos utilizar para predecir y que más simple que usar el mismísimo promedio de los precios. Claro que tendrá un gran sesgo, pero servirá de referencia y será nuestro piso a mejorar.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>precio_prom <span class="op">=</span> np.full(y_test.shape,</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>                      np.mean(y_train),</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                      dtype <span class="op">=</span> <span class="bu">float</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;El RMSE del test: </span><span class="sc">{:.0f}</span><span class="st">&quot;</span>.<span class="bu">format</span>(np.sqrt(mean_squared_error(y_test,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>                                                             precio_prom))))</span></code></pre></div>
<pre><code>El RMSE del test: 140055</code></pre>
<p>El error (RMSE) de test es de 140055 USD. Es decir, las predicciones del modelo final se alejan en promedio 140055 USD del valor real. Claramente este modelo no sirve para predecir nada, pero será útil para conocer cuál es nuestra bara. Comencemos a evaluar mejores alternativas.
 </p>
</div>
<div id="mejoras-de-modelo" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Mejoras de Modelo</h2>
<div id="modelo-solo-para-departamentos" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Modelo solo para Departamentos</h3>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtramos los datos</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ===================</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>deptos <span class="op">=</span> prop[prop[<span class="st">&#39;tipo&#39;</span>] <span class="op">==</span> <span class="st">&#39;Departamento&#39;</span>]</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Dividimos en train y test</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> deptos[<span class="st">&#39;superficie&#39;</span>]</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> deptos[<span class="st">&#39;precio&#39;</span>]</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(</span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>                                        X.values.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>                                        y.values.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>                                        train_size   <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>                                        random_state <span class="op">=</span> <span class="dv">1234</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>                                        shuffle      <span class="op">=</span> <span class="va">True</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>                                                    )</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Entrenamos el modelo</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ====================</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>X_train <span class="op">=</span> sm.add_constant(X_train, prepend <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>modelo <span class="op">=</span> sm.OLS(endog <span class="op">=</span> y_train,</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>                exog  <span class="op">=</span> X_train,)</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>modelo <span class="op">=</span> modelo.fit()</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(modelo.summary())</span></code></pre></div>
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                      y   R-squared:                       0.678
Model:                            OLS   Adj. R-squared:                  0.678
Method:                 Least Squares   F-statistic:                 6.789e+04
Date:                Sat, 14 Nov 2020   Prob (F-statistic):               0.00
Time:                        10:29:11   Log-Likelihood:            -4.1103e+05
No. Observations:               32284   AIC:                         8.221e+05
Df Residuals:                   32282   BIC:                         8.221e+05
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
const       1559.1579    930.702      1.675      0.094    -265.052    3383.368
x1          2850.5323     10.940    260.564      0.000    2829.090    2871.975
==============================================================================
Omnibus:                    11422.563   Durbin-Watson:                   1.989
Prob(Omnibus):                  0.000   Jarque-Bera (JB):           107373.685
Skew:                           1.433   Prob(JB):                         0.00
Kurtosis:                      11.462   Cond. No.                         174.
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Error de test del modelo </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>X_test <span class="op">=</span> sm.add_constant(X_test, prepend<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> modelo.predict(exog <span class="op">=</span> X_test)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>rmse <span class="op">=</span> mean_squared_error(</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>        y_true  <span class="op">=</span> y_test,</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>        y_pred  <span class="op">=</span> y_pred,</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>        squared <span class="op">=</span> <span class="va">False</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>residuos <span class="op">=</span> y_pred <span class="op">-</span> y_test.flatten()</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;&quot;</span>)</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;El error RMSE de test es: </span><span class="sc">{:.0f}</span><span class="st">&quot;</span>.<span class="bu">format</span>(rmse))</span></code></pre></div>
<pre><code>El error RMSE de test es: 80607</code></pre>
</div>
<div id="resultados-gráficos" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> Resultados Gráficos</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Armamos un dataframe para ver los resultados</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>rdos <span class="op">=</span> np.column_stack((X_test[:,<span class="dv">1</span>], y_test, y_pred, residuos))</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>rdos <span class="op">=</span> pd.DataFrame(rdos,</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>                    columns <span class="op">=</span> [<span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&#39;predic&#39;</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&#39;error&#39;</span>],</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>                   dtype <span class="op">=</span> <span class="st">&#39;int&#39;</span>)</span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráficos</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ========</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize <span class="op">=</span> (<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>fig.tight_layout(pad <span class="op">=</span> <span class="dv">4</span>)</span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Regresión</span></span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].plot(X_test[:,<span class="dv">1</span>], y_pred, c <span class="op">=</span> <span class="st">&#39;r&#39;</span>)</span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x <span class="op">=</span> <span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>                y <span class="op">=</span> <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>                data <span class="op">=</span> rdos,</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a>                color <span class="op">=</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a>                ax <span class="op">=</span> ax[<span class="dv">0</span>])</span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">&#39;Regresión lineal&#39;</span>)</span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-26"><a href="#cb27-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuos</span></span>
<span id="cb27-27"><a href="#cb27-27" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x <span class="op">=</span> <span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb27-28"><a href="#cb27-28" aria-hidden="true" tabindex="-1"></a>                y <span class="op">=</span> <span class="st">&#39;error&#39;</span>,</span>
<span id="cb27-29"><a href="#cb27-29" aria-hidden="true" tabindex="-1"></a>                data <span class="op">=</span> rdos,</span>
<span id="cb27-30"><a href="#cb27-30" aria-hidden="true" tabindex="-1"></a>                color <span class="op">=</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb27-31"><a href="#cb27-31" aria-hidden="true" tabindex="-1"></a>                ax <span class="op">=</span> ax[<span class="dv">1</span>])</span>
<span id="cb27-32"><a href="#cb27-32" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].axhline(y <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb27-33"><a href="#cb27-33" aria-hidden="true" tabindex="-1"></a>              linestyle <span class="op">=</span> <span class="st">&#39;--&#39;</span>,</span>
<span id="cb27-34"><a href="#cb27-34" aria-hidden="true" tabindex="-1"></a>              color <span class="op">=</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb27-35"><a href="#cb27-35" aria-hidden="true" tabindex="-1"></a>              lw <span class="op">=</span> <span class="dv">2</span>)</span>
<span id="cb27-36"><a href="#cb27-36" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">&#39;Residuos&#39;</span>)</span></code></pre></div>
<p><img src="/img/properati_files/output_58_1.png" /></p>
</div>
<div id="interpretación" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Interpretación</h3>
<p>El modelo lineal generado sigue la ecuación:</p>
<p><span class="math display">\[precio = 2850\:USD * m2 + 1559\:USD\]</span></p>
<p>Por cada metro cuadrado de incremento en la superficie de la propiedad, el precio aumenta en promedio unos 2850 USD.</p>
<p>El error de test del modelo es de 80607 USD. Es decir que las predicciones del modelo final se alejan en promedio 80607 USD del valor real. El cual sigue siendo muy importante pero mucho menor que nuestro RMSE base de 140055 USD.</p>
<p>Gráficamente observamos que nuestro modelo proporciona un buen ajuste para departamentos menores de 80m2, es a partir de aquí donde el error se empieza a descontrolar aumentando su varianza. Un buen modelo debería mantener la variabilidad del error constante alrededor de una media igual a cero. Sin dudas tenemos que seguir mejorándolo.</p>
</div>
<div id="modelo-para-departamentos-de-un-barrio-específico" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Modelo para Departamentos de un Barrio Específico</h3>
<p>Vamos a seleccionar un barrio y a realizar un modelo solo para los departamentos de ese barrio. Lo que esperamos con esto es observar un menor error de predicción ya que los precios difieren entre barrios como ya hemos visto gráficamente.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtramos los datos</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ===================</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>caballito <span class="op">=</span> prop[(prop[<span class="st">&#39;tipo&#39;</span>] <span class="op">==</span> <span class="st">&#39;Departamento&#39;</span>) </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>                 <span class="op">&amp;</span> (prop[<span class="st">&#39;barrio&#39;</span>] <span class="op">==</span> <span class="st">&#39;Caballito&#39;</span>)]</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Dividimos en train y test</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> caballito[<span class="st">&#39;superficie&#39;</span>]</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> caballito[<span class="st">&#39;precio&#39;</span>]</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>                                        X.values.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>                                        y.values.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>                                        train_size   <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>                                        random_state <span class="op">=</span> <span class="dv">1234</span>,</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>                                        shuffle      <span class="op">=</span> <span class="va">True</span></span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>                                    )</span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Entrenamos el modelo</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a><span class="co"># ====================</span></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>X_train <span class="op">=</span> sm.add_constant(X_train, prepend <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>modelo <span class="op">=</span> sm.OLS(endog <span class="op">=</span> y_train, exog <span class="op">=</span> X_train,)</span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>modelo <span class="op">=</span> modelo.fit()</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(modelo.summary())</span></code></pre></div>
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                      y   R-squared:                       0.766
Model:                            OLS   Adj. R-squared:                  0.766
Method:                 Least Squares   F-statistic:                     7998.
Date:                Sat, 14 Nov 2020   Prob (F-statistic):               0.00
Time:                        10:29:15   Log-Likelihood:                -30280.
No. Observations:                2450   AIC:                         6.056e+04
Df Residuals:                    2448   BIC:                         6.058e+04
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
const       2.669e+04   2280.513     11.701      0.000    2.22e+04    3.12e+04
x1          2255.5478     25.222     89.429      0.000    2206.090    2305.006
==============================================================================
Omnibus:                      813.783   Durbin-Watson:                   1.945
Prob(Omnibus):                  0.000   Jarque-Bera (JB):             6222.150
Skew:                           1.358   Prob(JB):                         0.00
Kurtosis:                      10.319   Cond. No.                         181.
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Error de test del modelo </span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>X_test <span class="op">=</span> sm.add_constant(X_test, prepend<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> modelo.predict(exog <span class="op">=</span> X_test)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>rmse <span class="op">=</span> mean_squared_error(</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>        y_true  <span class="op">=</span> y_test,</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>        y_pred  <span class="op">=</span> y_pred,</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>        squared <span class="op">=</span> <span class="va">False</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>residuos <span class="op">=</span> y_pred <span class="op">-</span> y_test.flatten()</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;&quot;</span>)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;El error RMSE de test es: </span><span class="sc">{:.0f}</span><span class="st">&quot;</span>.<span class="bu">format</span>(rmse))</span></code></pre></div>
<pre><code>El error RMSE de test es: 55468</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Armamos un dataframe para ver los resultados</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>rdos <span class="op">=</span> np.column_stack((X_test[:,<span class="dv">1</span>], y_test, y_pred, residuos))</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>rdos <span class="op">=</span> pd.DataFrame(rdos,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>                    columns <span class="op">=</span> [<span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&#39;predic&#39;</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&#39;error&#39;</span>],</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>                   dtype <span class="op">=</span> <span class="st">&#39;int&#39;</span>)</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráficos</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ========</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize <span class="op">=</span> (<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>fig.tight_layout(pad <span class="op">=</span> <span class="dv">4</span>)</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Regresión</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].plot(X_test[:,<span class="dv">1</span>], y_pred, c <span class="op">=</span> <span class="st">&#39;r&#39;</span>)</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x <span class="op">=</span> <span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>                y <span class="op">=</span> <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>                data <span class="op">=</span> rdos,</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>                color <span class="op">=</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>                ax <span class="op">=</span> ax[<span class="dv">0</span>])</span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">&#39;Regresión lineal&#39;</span>)</span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuos</span></span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x <span class="op">=</span> <span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>                y <span class="op">=</span> <span class="st">&#39;error&#39;</span>,</span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>                data <span class="op">=</span> rdos,</span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>                color <span class="op">=</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>                ax <span class="op">=</span> ax[<span class="dv">1</span>])</span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].axhline(y <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>              linestyle <span class="op">=</span> <span class="st">&#39;--&#39;</span>,</span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>              color <span class="op">=</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>              lw <span class="op">=</span> <span class="dv">2</span>)</span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">&#39;Residuos&#39;</span>)</span></code></pre></div>
<p><img src="/img/properati_files/output_66_1.png" /></p>
<p>El modelo lineal para este barrio en particular sigue la ecuación:</p>
<p><span class="math display">\[precio = 2256 USD * m2 + 26685 USD\]</span></p>
<p>Por cada metro cuadrado de incremento en la superficie de la propiedad, el precio aumenta en promedio unos 2256 USD.</p>
<p>El error de test del modelo es de 55468 USD. Es decir que las predicciones del modelo final se alejan en promedio 56458 USD del valor real. Estamos afinando cada vez más el modelo para tener mejores resultados.</p>
<p>Gráficamente observamos que nuestro modelo proporciona un buen ajuste para departamentos menores de 100 m2, nuevamente observamos como la varianza del error de predicción aumenta a medida que aumenta la superficie de la propiedad.</p>
</div>
<div id="modelo-para-departamento-menor-a-100m2-de-un-barrio-específico" class="section level3" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Modelo para Departamento menor a 100m2 de un Barrio Específico</h3>
<p>En el análisis gráfico habíamos observado que las propiedades de menor a 100 m2 tenían precios más estables. Vamos a ver si un modelo centrado en estas características nos da un buen resultado.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtramos los datos</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ===================</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>caballito <span class="op">=</span> prop[(prop[<span class="st">&#39;tipo&#39;</span>] <span class="op">==</span> <span class="st">&#39;Departamento&#39;</span>) </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>                 <span class="op">&amp;</span> (prop[<span class="st">&#39;barrio&#39;</span>] <span class="op">==</span> <span class="st">&#39;Caballito&#39;</span>)</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>                <span class="op">&amp;</span> (prop[<span class="st">&#39;superficie&#39;</span>] <span class="op">&lt;</span> <span class="dv">100</span>)]</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Dividimos en train y test</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="co"># =====================</span></span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> caballito[<span class="st">&#39;superficie&#39;</span>]</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> caballito[<span class="st">&#39;precio&#39;</span>]</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>                                        X.values.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>                                        y.values.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>                                        train_size   <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>                                        random_state <span class="op">=</span> <span class="dv">1234</span>,</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>                                        shuffle      <span class="op">=</span> <span class="va">True</span></span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>                                    )</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Entrenamos el modelo</span></span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a><span class="co"># ====================</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>X_train <span class="op">=</span> sm.add_constant(X_train, prepend <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>modelo <span class="op">=</span> sm.OLS(endog <span class="op">=</span> y_train, exog <span class="op">=</span> X_train,)</span>
<span id="cb33-23"><a href="#cb33-23" aria-hidden="true" tabindex="-1"></a>modelo <span class="op">=</span> modelo.fit()</span>
<span id="cb33-24"><a href="#cb33-24" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(modelo.summary())</span></code></pre></div>
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                      y   R-squared:                       0.673
Model:                            OLS   Adj. R-squared:                  0.672
Method:                 Least Squares   F-statistic:                     3890.
Date:                Sat, 14 Nov 2020   Prob (F-statistic):               0.00
Time:                        10:29:16   Log-Likelihood:                -22436.
No. Observations:                1895   AIC:                         4.488e+04
Df Residuals:                    1893   BIC:                         4.489e+04
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
==============================================================================
                 coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------
const       7909.2811   2495.115      3.170      0.002    3015.816    1.28e+04
x1          2563.9672     41.112     62.366      0.000    2483.338    2644.596
==============================================================================
Omnibus:                      376.587   Durbin-Watson:                   2.017
Prob(Omnibus):                  0.000   Jarque-Bera (JB):             1235.804
Skew:                           0.978   Prob(JB):                    4.45e-269
Kurtosis:                       6.438   Cond. No.                         196.
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Error de test del modelo </span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>X_test <span class="op">=</span> sm.add_constant(X_test, prepend <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> modelo.predict(exog <span class="op">=</span> X_test)</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>rmse <span class="op">=</span> mean_squared_error(</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>        y_true  <span class="op">=</span> y_test,</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>        y_pred  <span class="op">=</span> y_pred,</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>        squared <span class="op">=</span> <span class="va">False</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>residuos <span class="op">=</span> y_pred <span class="op">-</span> y_test.flatten()</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;&quot;</span>)</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;El error RMSE de test es: </span><span class="sc">{:.0f}</span><span class="st">&quot;</span>.<span class="bu">format</span>(rmse))</span></code></pre></div>
<pre><code>El error RMSE de test es: 34505</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Armamos un dataframe para ver los resultados</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>rdos <span class="op">=</span> np.column_stack((X_test[:,<span class="dv">1</span>], y_test, y_pred, residuos))</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>rdos <span class="op">=</span> pd.DataFrame(rdos,</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>                    columns <span class="op">=</span> [<span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&#39;predic&#39;</span>,</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>                               <span class="st">&#39;error&#39;</span>],</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>                   dtype <span class="op">=</span> <span class="st">&#39;int&#39;</span>)</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráficos</span></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ========</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize <span class="op">=</span> (<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>fig.tight_layout(pad <span class="op">=</span> <span class="dv">4</span>)</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Regresión</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].plot(X_test[:,<span class="dv">1</span>], y_pred, c <span class="op">=</span> <span class="st">&#39;r&#39;</span>)</span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x <span class="op">=</span> <span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>                y <span class="op">=</span> <span class="st">&#39;precio&#39;</span>,</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>                data <span class="op">=</span> rdos,</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>                color <span class="op">=</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>                ax <span class="op">=</span> ax[<span class="dv">0</span>])</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">&#39;Regresion lineal&#39;</span>)</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuos</span></span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x <span class="op">=</span> <span class="st">&#39;superficie&#39;</span>,</span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>                y <span class="op">=</span> <span class="st">&#39;error&#39;</span>,</span>
<span id="cb37-29"><a href="#cb37-29" aria-hidden="true" tabindex="-1"></a>                data <span class="op">=</span> rdos,</span>
<span id="cb37-30"><a href="#cb37-30" aria-hidden="true" tabindex="-1"></a>                color <span class="op">=</span> <span class="st">&#39;forestgreen&#39;</span>,</span>
<span id="cb37-31"><a href="#cb37-31" aria-hidden="true" tabindex="-1"></a>                ax <span class="op">=</span> ax[<span class="dv">1</span>])</span>
<span id="cb37-32"><a href="#cb37-32" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].axhline(y <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb37-33"><a href="#cb37-33" aria-hidden="true" tabindex="-1"></a>              linestyle <span class="op">=</span> <span class="st">&#39;--&#39;</span>,</span>
<span id="cb37-34"><a href="#cb37-34" aria-hidden="true" tabindex="-1"></a>              color <span class="op">=</span> <span class="st">&#39;black&#39;</span>,</span>
<span id="cb37-35"><a href="#cb37-35" aria-hidden="true" tabindex="-1"></a>              lw <span class="op">=</span> <span class="dv">2</span>)</span>
<span id="cb37-36"><a href="#cb37-36" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">&#39;Residuos&#39;</span>)</span></code></pre></div>
<p><img src="/img/properati_files/output_73_1.png" /></p>
<p>El modelo lineal en este caso resulta:</p>
<p><span class="math display">\[precio = 2564\:USD * m2 + 7909\:USD\]</span></p>
<p>Por cada metro cuadrado de incremento en la superficie de la propiedad, el precio aumenta en promedio unos 2564 USD.</p>
<p>El error de test del modelo es de 34505 USD. Lo hemos mejorado afinando nuestro modelo, haciéndolo más acorde de acuerdo a la ubicación del barrio y a la cantidad de metros cuadrados. Aquí tampoco tenemos errores con varianza constante.</p>
<p> </p>
</div>
</div>
</div>
<div id="modelo-de-regresión-lineal-múltiple" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Modelo de Regresión Lineal Múltiple</h1>
<p>Vamos a modelar nuestro problema con un modelo de regresión lineal múltiple incorporando todas las variables que tengamos. Pero como algunas de ellas son categóricas primero debemos transformarlas en variables dummies para que el modelo las puedan interpretar. Ahora nuestro modelo va a predecir el precio en función de múltiples variables predictoras el cual quedará de la siguiente manera:</p>
<p><span class="math display">\[precio = \beta_{superficie}*m2 + \beta_{tipo}\\+
 \beta_{barrio} + \beta_{habitacion}\\+
 \beta_{bath} + \beta_{0}\]</span>
 </p>
<div id="preprocesado" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Preprocesado</h2>
<p>Transformamos las variables categóricas en variables dummies.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>prop_dummies <span class="op">=</span> pd.get_dummies(data <span class="op">=</span> prop)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>prop_dummies.info()</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;pandas.core.frame.DataFrame&#39;</span><span class="op">&gt;</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    RangeIndex: <span class="dv">45904</span> entries, <span class="dv">0</span> to <span class="dv">45903</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>    Data columns (total <span class="dv">75</span> columns):</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>     <span class="co">#   Column                       Non-Null Count  Dtype</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">---</span>  <span class="op">------</span>                       <span class="op">--------------</span>  <span class="op">-----</span></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>     <span class="dv">0</span>   superficie                   <span class="dv">45904</span> non<span class="op">-</span>null  int64</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>     <span class="dv">1</span>   precio                       <span class="dv">45904</span> non<span class="op">-</span>null  int64</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>     <span class="dv">2</span>   tipo_Casa                    <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>     <span class="dv">3</span>   tipo_Departamento            <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>     <span class="dv">4</span>   tipo_PH                      <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>     <span class="dv">5</span>   barrio_Abasto                <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>     <span class="dv">6</span>   barrio_Agronomía             <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a>     <span class="dv">7</span>   barrio_Almagro               <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>     <span class="dv">8</span>   barrio_Balvanera             <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>     <span class="dv">9</span>   barrio_Barracas              <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>     <span class="dv">10</span>  barrio_Barrio Norte          <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>     <span class="dv">11</span>  barrio_Belgrano              <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a>     <span class="dv">12</span>  barrio_Boca                  <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a>     <span class="dv">13</span>  barrio_Boedo                 <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>     <span class="dv">14</span>  barrio_Caballito             <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a>     <span class="dv">15</span>  barrio_Catalinas             <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a>     <span class="dv">16</span>  barrio_Centro <span class="op">/</span> Microcentro  <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>     <span class="dv">17</span>  barrio_Chacarita             <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a>     <span class="dv">18</span>  barrio_Coghlan               <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>     <span class="dv">19</span>  barrio_Colegiales            <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a>     <span class="dv">20</span>  barrio_Congreso              <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>     <span class="dv">21</span>  barrio_Constitución          <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a>     <span class="dv">22</span>  barrio_Flores                <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>     <span class="dv">23</span>  barrio_Floresta              <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a>     <span class="dv">24</span>  barrio_Las Cañitas           <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>     <span class="dv">25</span>  barrio_Liniers               <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a>     <span class="dv">26</span>  barrio_Mataderos             <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>     <span class="dv">27</span>  barrio_Monserrat             <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a>     <span class="dv">28</span>  barrio_Monte Castro          <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>     <span class="dv">29</span>  barrio_Nuñez                 <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a>     <span class="dv">30</span>  barrio_Once                  <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>     <span class="dv">31</span>  barrio_Palermo               <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a>     <span class="dv">32</span>  barrio_Parque Avellaneda     <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>     <span class="dv">33</span>  barrio_Parque Centenario     <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a>     <span class="dv">34</span>  barrio_Parque Chacabuco      <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>     <span class="dv">35</span>  barrio_Parque Chas           <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a>     <span class="dv">36</span>  barrio_Parque Patricios      <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a>     <span class="dv">37</span>  barrio_Paternal              <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a>     <span class="dv">38</span>  barrio_Pompeya               <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>     <span class="dv">39</span>  barrio_Puerto Madero         <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a>     <span class="dv">40</span>  barrio_Recoleta              <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a>     <span class="dv">41</span>  barrio_Retiro                <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-51"><a href="#cb38-51" aria-hidden="true" tabindex="-1"></a>     <span class="dv">42</span>  barrio_Saavedra              <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-52"><a href="#cb38-52" aria-hidden="true" tabindex="-1"></a>     <span class="dv">43</span>  barrio_San Cristobal         <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-53"><a href="#cb38-53" aria-hidden="true" tabindex="-1"></a>     <span class="dv">44</span>  barrio_San Nicolás           <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-54"><a href="#cb38-54" aria-hidden="true" tabindex="-1"></a>     <span class="dv">45</span>  barrio_San Telmo             <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-55"><a href="#cb38-55" aria-hidden="true" tabindex="-1"></a>     <span class="dv">46</span>  barrio_Tribunales            <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-56"><a href="#cb38-56" aria-hidden="true" tabindex="-1"></a>     <span class="dv">47</span>  barrio_Velez Sarsfield       <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-57"><a href="#cb38-57" aria-hidden="true" tabindex="-1"></a>     <span class="dv">48</span>  barrio_Versalles             <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-58"><a href="#cb38-58" aria-hidden="true" tabindex="-1"></a>     <span class="dv">49</span>  barrio_Villa Crespo          <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-59"><a href="#cb38-59" aria-hidden="true" tabindex="-1"></a>     <span class="dv">50</span>  barrio_Villa Devoto          <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-60"><a href="#cb38-60" aria-hidden="true" tabindex="-1"></a>     <span class="dv">51</span>  barrio_Villa General Mitre   <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-61"><a href="#cb38-61" aria-hidden="true" tabindex="-1"></a>     <span class="dv">52</span>  barrio_Villa Lugano          <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-62"><a href="#cb38-62" aria-hidden="true" tabindex="-1"></a>     <span class="dv">53</span>  barrio_Villa Luro            <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-63"><a href="#cb38-63" aria-hidden="true" tabindex="-1"></a>     <span class="dv">54</span>  barrio_Villa Ortuzar         <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-64"><a href="#cb38-64" aria-hidden="true" tabindex="-1"></a>     <span class="dv">55</span>  barrio_Villa Pueyrredón      <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-65"><a href="#cb38-65" aria-hidden="true" tabindex="-1"></a>     <span class="dv">56</span>  barrio_Villa Real            <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-66"><a href="#cb38-66" aria-hidden="true" tabindex="-1"></a>     <span class="dv">57</span>  barrio_Villa Riachuelo       <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-67"><a href="#cb38-67" aria-hidden="true" tabindex="-1"></a>     <span class="dv">58</span>  barrio_Villa Santa Rita      <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-68"><a href="#cb38-68" aria-hidden="true" tabindex="-1"></a>     <span class="dv">59</span>  barrio_Villa Soldati         <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-69"><a href="#cb38-69" aria-hidden="true" tabindex="-1"></a>     <span class="dv">60</span>  barrio_Villa Urquiza         <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-70"><a href="#cb38-70" aria-hidden="true" tabindex="-1"></a>     <span class="dv">61</span>  barrio_Villa <span class="kw">del</span> Parque      <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-71"><a href="#cb38-71" aria-hidden="true" tabindex="-1"></a>     <span class="dv">62</span>  cant_hab_1                   <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-72"><a href="#cb38-72" aria-hidden="true" tabindex="-1"></a>     <span class="dv">63</span>  cant_hab_2                   <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-73"><a href="#cb38-73" aria-hidden="true" tabindex="-1"></a>     <span class="dv">64</span>  cant_hab_3                   <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-74"><a href="#cb38-74" aria-hidden="true" tabindex="-1"></a>     <span class="dv">65</span>  cant_hab_4                   <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-75"><a href="#cb38-75" aria-hidden="true" tabindex="-1"></a>     <span class="dv">66</span>  cant_hab_5                   <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-76"><a href="#cb38-76" aria-hidden="true" tabindex="-1"></a>     <span class="dv">67</span>  cant_hab_6                   <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-77"><a href="#cb38-77" aria-hidden="true" tabindex="-1"></a>     <span class="dv">68</span>  cant_hab_7                   <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-78"><a href="#cb38-78" aria-hidden="true" tabindex="-1"></a>     <span class="dv">69</span>  cant_hab_8                   <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-79"><a href="#cb38-79" aria-hidden="true" tabindex="-1"></a>     <span class="dv">70</span>  cant_bath_1                  <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-80"><a href="#cb38-80" aria-hidden="true" tabindex="-1"></a>     <span class="dv">71</span>  cant_bath_2                  <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-81"><a href="#cb38-81" aria-hidden="true" tabindex="-1"></a>     <span class="dv">72</span>  cant_bath_3                  <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-82"><a href="#cb38-82" aria-hidden="true" tabindex="-1"></a>     <span class="dv">73</span>  cant_bath_4                  <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-83"><a href="#cb38-83" aria-hidden="true" tabindex="-1"></a>     <span class="dv">74</span>  cant_bath_5                  <span class="dv">45904</span> non<span class="op">-</span>null  uint8</span>
<span id="cb38-84"><a href="#cb38-84" aria-hidden="true" tabindex="-1"></a>    dtypes: int64(<span class="dv">2</span>), uint8(<span class="dv">73</span>)</span>
<span id="cb38-85"><a href="#cb38-85" aria-hidden="true" tabindex="-1"></a>    memory usage: <span class="fl">3.9</span> MB</span></code></pre></div>
<p> </p>
</div>
<div id="modelado" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Modelado</h2>
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dividimos en train y test</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> prop_dummies.drop([<span class="st">&#39;precio&#39;</span>], axis <span class="op">=</span> <span class="dv">1</span>)</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> prop_dummies[<span class="st">&#39;precio&#39;</span>]</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>                                        X,</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>                                        y.values.reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>),</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>                                        train_size   <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>                                        random_state <span class="op">=</span> <span class="dv">1234</span>,</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>                                        shuffle      <span class="op">=</span> <span class="va">True</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>                                    )</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Entrenamos el modelo</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="co"># ====================</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>X_train <span class="op">=</span> sm.add_constant(X_train, prepend <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>modelo <span class="op">=</span> sm.OLS(endog <span class="op">=</span> y_train, exog <span class="op">=</span> X_train,)</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>modelo <span class="op">=</span> modelo.fit()</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(modelo.summary())</span></code></pre></div>
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                      y   R-squared:                       0.769
Model:                            OLS   Adj. R-squared:                  0.768
Method:                 Least Squares   F-statistic:                     1742.
Date:                Sat, 14 Nov 2020   Prob (F-statistic):               0.00
Time:                        10:33:47   Log-Likelihood:            -4.6058e+05
No. Observations:               36723   AIC:                         9.213e+05
Df Residuals:                   36652   BIC:                         9.219e+05
Df Model:                          70                                         
Covariance Type:            nonrobust                                         
===============================================================================================
                                  coef    std err          t      P&gt;|t|      [0.025      0.975]
-----------------------------------------------------------------------------------------------
const                        1.507e+04   2135.601      7.055      0.000    1.09e+04    1.93e+04
superficie                   1977.8928     14.446    136.912      0.000    1949.577    2006.208
tipo_Casa                   -3.678e+04   1973.795    -18.635      0.000   -4.07e+04   -3.29e+04
tipo_Departamento            5.147e+04   1007.058     51.109      0.000    4.95e+04    5.34e+04
tipo_PH                       379.5864   1224.558      0.310      0.757   -2020.583    2779.756
barrio_Abasto                6447.5755   4759.322      1.355      0.176   -2880.833    1.58e+04
barrio_Agronomía            -3702.5191   8672.409     -0.427      0.669   -2.07e+04    1.33e+04
barrio_Almagro                843.4828   1647.822      0.512      0.609   -2386.296    4073.261
barrio_Balvanera            -1.663e+04   2376.887     -6.998      0.000   -2.13e+04    -1.2e+04
barrio_Barracas             -3853.3032   3844.312     -1.002      0.316   -1.14e+04    3681.658
barrio_Barrio Norte          5.839e+04   2008.563     29.072      0.000    5.45e+04    6.23e+04
barrio_Belgrano              7.554e+04   1614.749     46.783      0.000    7.24e+04    7.87e+04
barrio_Boca                 -3.784e+04   6439.935     -5.875      0.000   -5.05e+04   -2.52e+04
barrio_Boedo                -1.346e+04   3640.937     -3.697      0.000   -2.06e+04   -6323.488
barrio_Caballito             1.118e+04   1670.548      6.691      0.000    7903.940    1.45e+04
barrio_Catalinas            -7.937e+04   3.85e+04     -2.063      0.039   -1.55e+05   -3949.173
barrio_Centro / Microcentro -1.545e+04   6254.956     -2.470      0.014   -2.77e+04   -3190.781
barrio_Chacarita             1.714e+04   3866.497      4.433      0.000    9561.562    2.47e+04
barrio_Coghlan               3.944e+04   4059.452      9.716      0.000    3.15e+04    4.74e+04
barrio_Colegiales            3.368e+04   2941.288     11.451      0.000    2.79e+04    3.94e+04
barrio_Congreso             -2.695e+04   4117.989     -6.544      0.000    -3.5e+04   -1.89e+04
barrio_Constitución         -3.784e+04   5633.225     -6.718      0.000   -4.89e+04   -2.68e+04
barrio_Flores                -1.82e+04   2318.364     -7.852      0.000   -2.27e+04   -1.37e+04
barrio_Floresta             -2.817e+04   3351.970     -8.404      0.000   -3.47e+04   -2.16e+04
barrio_Las Cañitas           9.732e+04   4643.630     20.959      0.000    8.82e+04    1.06e+05
barrio_Liniers              -1.953e+04   3925.824     -4.974      0.000   -2.72e+04   -1.18e+04
barrio_Mataderos            -3.403e+04   4039.361     -8.424      0.000   -4.19e+04   -2.61e+04
barrio_Monserrat            -1.971e+04   3761.769     -5.240      0.000   -2.71e+04   -1.23e+04
barrio_Monte Castro         -4843.5854   4890.460     -0.990      0.322   -1.44e+04    4741.857
barrio_Nuñez                 6.091e+04   2376.563     25.629      0.000    5.63e+04    6.56e+04
barrio_Once                 -1.708e+04   4036.114     -4.232      0.000    -2.5e+04   -9171.574
barrio_Palermo                7.37e+04   1393.488     52.892      0.000     7.1e+04    7.64e+04
barrio_Parque Avellaneda    -3.725e+04   7148.284     -5.211      0.000   -5.13e+04   -2.32e+04
barrio_Parque Centenario    -7509.0620   3336.257     -2.251      0.024    -1.4e+04    -969.902
barrio_Parque Chacabuco     -2.347e+04   3862.756     -6.077      0.000    -3.1e+04   -1.59e+04
barrio_Parque Chas           8674.4787   7102.949      1.221      0.222   -5247.506    2.26e+04
barrio_Parque Patricios     -3.261e+04   4986.294     -6.539      0.000   -4.24e+04   -2.28e+04
barrio_Paternal             -6176.7011   3647.729     -1.693      0.090   -1.33e+04     972.953
barrio_Pompeya              -7.864e+04   7655.240    -10.273      0.000   -9.36e+04   -6.36e+04
barrio_Puerto Madero         2.743e+05   3480.653     78.812      0.000    2.67e+05    2.81e+05
barrio_Recoleta              7.813e+04   1848.147     42.275      0.000    7.45e+04    8.18e+04
barrio_Retiro                4.491e+04   3816.150     11.769      0.000    3.74e+04    5.24e+04
barrio_Saavedra              2.286e+04   3139.851      7.279      0.000    1.67e+04     2.9e+04
barrio_San Cristobal        -1.464e+04   3218.206     -4.550      0.000    -2.1e+04   -8335.546
barrio_San Nicolás          -1.641e+04   3599.974     -4.560      0.000   -2.35e+04   -9358.767
barrio_San Telmo             3986.1712   3071.719      1.298      0.194   -2034.486       1e+04
barrio_Tribunales           -2.149e+04   8741.482     -2.458      0.014   -3.86e+04   -4351.845
barrio_Velez Sarsfield       -3.46e+04   8213.008     -4.212      0.000   -5.07e+04   -1.85e+04
barrio_Versalles            -2.023e+04   6037.490     -3.350      0.001   -3.21e+04   -8392.567
barrio_Villa Crespo          9526.6881   1723.868      5.526      0.000    6147.858    1.29e+04
barrio_Villa Devoto          1.362e+04   2888.819      4.713      0.000    7953.344    1.93e+04
barrio_Villa General Mitre  -2.118e+04   6098.924     -3.472      0.001   -3.31e+04   -9223.642
barrio_Villa Lugano         -8.401e+04   5785.471    -14.521      0.000   -9.53e+04   -7.27e+04
barrio_Villa Luro           -6447.7936   3982.574     -1.619      0.105   -1.43e+04    1358.166
barrio_Villa Ortuzar         2.126e+04   6201.217      3.429      0.001    9108.648    3.34e+04
barrio_Villa Pueyrredón       1.01e+04   3917.205      2.578      0.010    2421.536    1.78e+04
barrio_Villa Real           -1.481e+04   8461.309     -1.750      0.080   -3.14e+04    1774.731
barrio_Villa Riachuelo       -5.39e+04   2.01e+04     -2.679      0.007   -9.33e+04   -1.45e+04
barrio_Villa Santa Rita      -1.15e+04   5455.096     -2.108      0.035   -2.22e+04    -805.987
barrio_Villa Soldati        -1.196e+05   2.36e+04     -5.072      0.000   -1.66e+05   -7.34e+04
barrio_Villa Urquiza         3.389e+04   2015.732     16.813      0.000    2.99e+04    3.78e+04
barrio_Villa del Parque       345.4623   3056.371      0.113      0.910   -5645.113    6336.038
cant_hab_1                   1.073e+04   1873.287      5.728      0.000    7058.430    1.44e+04
cant_hab_2                   1.929e+04   1712.797     11.264      0.000    1.59e+04    2.27e+04
cant_hab_3                   2.967e+04   1544.668     19.206      0.000    2.66e+04    3.27e+04
cant_hab_4                    3.02e+04   1521.563     19.849      0.000    2.72e+04    3.32e+04
cant_hab_5                    1.03e+04   2045.711      5.036      0.000    6293.302    1.43e+04
cant_hab_6                   5180.3825   3329.419      1.556      0.120   -1345.374    1.17e+04
cant_hab_7                  -4.922e+04   5841.577     -8.426      0.000   -6.07e+04   -3.78e+04
cant_hab_8                  -4.109e+04   7314.376     -5.617      0.000   -5.54e+04   -2.67e+04
cant_bath_1                 -7.171e+04   2010.936    -35.658      0.000   -7.56e+04   -6.78e+04
cant_bath_2                 -3.532e+04   1941.934    -18.191      0.000   -3.91e+04   -3.15e+04
cant_bath_3                  1.409e+04   2192.903      6.427      0.000    9796.421    1.84e+04
cant_bath_4                  3.887e+04   3010.656     12.909      0.000     3.3e+04    4.48e+04
cant_bath_5                  6.914e+04   8062.875      8.575      0.000    5.33e+04    8.49e+04
==============================================================================
Omnibus:                    13249.809   Durbin-Watson:                   1.987
Prob(Omnibus):                  0.000   Jarque-Bera (JB):           120972.735
Skew:                           1.477   Prob(JB):                         0.00
Kurtosis:                      11.386   Cond. No.                     7.13e+16
==============================================================================

Warnings:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.
[2] The smallest eigenvalue is 6.19e-26. This might indicate that there are
strong multicollinearity problems or that the design matrix is singular.</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Error de test del modelo </span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="co"># =========================</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>X_test <span class="op">=</span> sm.add_constant(X_test, prepend <span class="op">=</span> <span class="va">True</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> modelo.predict(exog <span class="op">=</span> X_test)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>rmse <span class="op">=</span> mean_squared_error(</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>        y_true  <span class="op">=</span> y_test,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>        y_pred  <span class="op">=</span> y_pred,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>        squared <span class="op">=</span> <span class="va">False</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>       )</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>residuos <span class="op">=</span> y_pred <span class="op">-</span> y_test.flatten()</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;&quot;</span>)</span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&quot;El error RMSE de test es: </span><span class="sc">{:.0f}</span><span class="st">&quot;</span>.<span class="bu">format</span>(rmse))</span></code></pre></div>
<pre><code>El error RMSE de test es: 68100</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gráficos</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ========</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize <span class="op">=</span> (<span class="dv">15</span>,<span class="dv">5</span>))</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>fig.tight_layout(pad <span class="op">=</span> <span class="dv">4</span>)</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].scatter(y_test, y_pred, edgecolors<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), alpha <span class="op">=</span> <span class="fl">0.4</span>)</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].plot([y_test.<span class="bu">min</span>(), y_test.<span class="bu">max</span>()], [y_test.<span class="bu">min</span>(), y_test.<span class="bu">max</span>()],</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&#39;k--&#39;</span>, color <span class="op">=</span> <span class="st">&#39;black&#39;</span>, lw<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">&#39;Valor predicho vs valor real&#39;</span>, fontsize <span class="op">=</span> <span class="dv">10</span>, fontweight <span class="op">=</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_xlabel(<span class="st">&#39;Real&#39;</span>)</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_ylabel(<span class="st">&#39;Predicción&#39;</span>)</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].tick_params(labelsize <span class="op">=</span> <span class="dv">7</span>)</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuos</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].scatter(<span class="bu">list</span>(<span class="bu">range</span>(<span class="bu">len</span>(y_test))), residuos,</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>              edgecolors<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>), alpha <span class="op">=</span> <span class="fl">0.4</span>)</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].axhline(y <span class="op">=</span> <span class="dv">0</span>, linestyle <span class="op">=</span> <span class="st">&#39;--&#39;</span>, color <span class="op">=</span> <span class="st">&#39;black&#39;</span>, lw<span class="op">=</span><span class="dv">2</span>)</span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_title(<span class="st">&#39;Residuos del modelo&#39;</span>, fontsize <span class="op">=</span> <span class="dv">10</span>, fontweight <span class="op">=</span> <span class="st">&quot;bold&quot;</span>)</span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_xlabel(<span class="st">&#39;id&#39;</span>)</span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].set_ylabel(<span class="st">&#39;Residuo&#39;</span>)</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">1</span>].tick_params(labelsize <span class="op">=</span> <span class="dv">7</span>)</span></code></pre></div>
<p><img src="/img/properati_files/output_85_0.png" /></p>
<p> </p>
</div>
<div id="interpretación-1" class="section level2" number="5.3">
<h2><span class="header-section-number">5.3</span> Interpretación</h2>
<p>Vamos a interpretar con un ejemplo como predice este modelo el cual tiene 75 coeficientes pero no todos se aplican al mismo tiempo.
Supongamos que queremos predecir el precio de la siguiente propiedad:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>prop.iloc[<span class="dv">44543</span>]</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    tipo          Departamento</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    barrio           Caballito</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    cant_hab                 <span class="dv">2</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    cant_bath                <span class="dv">1</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    superficie              <span class="dv">30</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    precio               <span class="dv">80000</span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    Name: <span class="dv">44543</span>, dtype: <span class="bu">object</span></span></code></pre></div>
<p><span class="math display">\[precio=\beta_{superficie}*m2+\beta_{Departamento}\\+\beta_{Caballito}+\beta_{2 hab}\\+\beta_{1 bath}+\beta_{0}\]</span></p>
<p>Extrayendo los coeficientes de los resultados del modelo, tenemos que:</p>
<p><span class="math display">\[precio =  1977.89 * 30 + 51470\\+ 11180 + 19290\\+ (-71710) + 15070\]</span></p>
<p><span class="math display">\[precio = 84636\:USD \]</span></p>
<p>Para esta propiedad tenemos un error de 4636 USD sobre el precio real.</p>
<p>El error RMSE del modelo fue de 68100 USD. Observando los gráficos podemos ver como a partir de propiedades con valores reales de 400000 USD el modelo empieza a aumentar el error subestimando los precios. En el gráfico de los residuos del modelo, los errores deberían distribuirse de igual manera en ambos lados del cero, en este caso vemos una importante cantidad de ellos por debajo.</p>
<p> </p>
</div>
</div>
<div id="conclusiones" class="section level1" number="6">
<h1><span class="header-section-number">6</span> Conclusiones</h1>
<p>Los mejores resultados los hemos obtenido cuando ajustamos nuestro modelo solo a departamentos de menos de 100 m2 de un barrio específico, esto era de esperar ya que al hacerlo estamos disminuyendo la variabilidad de precios en las observaciones. Pero todos los modelos que realizamos tienen algo en común, empiezan a tener grandes errores en propiedades grandes o de precios elevados, pierden poder de ajuste y esto es sin duda porque necesitamos relevar más información de las propiedades.
Si es imposible obtener información adicional podríamos intentar aplicar otros modelos más potentes como árboles de decisiones o bien utilizar estos modelos pero para propiedades pequeñas, yo propondría no mayor a 70 metros cuadrados.</p>
<p> </p>
</div>
<div id="bibliografía" class="section level1" number="7">
<h1><span class="header-section-number">7</span> Bibliografía</h1>
<ul>
<li><p>cienciadedatos.net</p></li>
<li><p>Machine Learning Mastery With Python, Jason Brownlee.</p>
</div></li>
</ul>
</div>
